---
name: ah-index
description: |
  ç´¢å¼•ç»´æŠ¤æŠ€èƒ½ï¼šå·¡æ£€çŸ¥è¯†åº“è¿æ¥è´¨é‡ï¼Œå‘ç°å­¤ç«‹ç¬”è®°ã€ä¸»é¢˜/é¢†åŸŸé¡µç¼ºå£å’Œé“¾æ¥æ–­å±‚ï¼Œå¹¶è¾“å‡ºå¯æ‰§è¡Œç´¢å¼•æ›´æ–°å»ºè®®ã€‚ç”¨äºæ¯å‘¨æˆ–æ¯æœˆè¿æ¥å±‚ç»´æŠ¤åœºæ™¯ã€‚
---

# AH Index

`ah-index` åœ¨ FLOW ä¸­æ‰¿æ‹… **O é˜¶æ®µè¿æ¥ç»´æŠ¤å™¨**ï¼šæå‡çŸ¥è¯†è¿æ¥å¯†åº¦ï¼Œè®©çŸ¥è¯†å¯è¢«è°ƒç”¨ã€‚

## FLOW Position

- è¾“å…¥ï¼šçŸ¥è¯†åº“ç»“æ„ã€æ°¸ä¹…ç¬”è®°ã€ä¸»é¢˜é¡µã€é¢†åŸŸé¡µã€é¡¹ç›®é“¾æ¥ã€‚
- è¾“å‡ºï¼šç´¢å¼•å·¡æ£€ç»“æœã€å½’å±å»ºè®®ã€è¿æ¥ä¿®å¤å»ºè®®ã€‚

## Reusable Resources

- ç»´æŠ¤åŸåˆ™ï¼š`references/index-principles.md`
- è·¯å¾„çº¦å®šï¼š`references/path-conventions.md`
- æ‰«æè§„åˆ™ï¼š`references/index-scan-rules.md`
- è¿æ¥å¯†åº¦å·¡æ£€ï¼š`references/connection-audit.md`
- ä¸»é¢˜/é¢†åŸŸé¡µå»ºè®®ï¼š`references/page-creation-rules.md`
- å¡ç‰‡åŒæ­¥æ‰§è¡Œï¼š`references/card-sync-apply.md`
- é¡¹ç›®åŒæ­¥æ‰§è¡Œï¼š`references/project-sync-apply.md`
- å®‰å…¨å†™å…¥åè®®ï¼š`references/safe-sync-write-protocol.md`
- çŠ¶æ€å›å†™ï¼š`references/status-reporting.md`
- è´¨é‡æ£€æŸ¥ï¼š`references/quality-checklist.md`
- æŠ¥å‘Šæ¨¡æ¿ï¼š`assets/ç´¢å¼•å·¡æ£€æŠ¥å‘Šæ¨¡æ¿.md`

## Skill Contract

### Inputs

- è¿è¡Œæ¨¡å¼ï¼š`åˆå§‹åŒ–` / `æ›´æ–°` / `å·¡æ£€` / `sync-card` / `sync-project`ã€‚
- åŒæ­¥æ¨¡å¼ï¼š`sync_mode=strict`ï¼ˆé»˜è®¤ä¸”å¿…é€‰ï¼‰ã€‚
- æ‰«æèŒƒå›´ï¼šå…¨åº“æˆ–å¢é‡è·¯å¾„ã€‚
- å¯é€‰ï¼šä¼˜å…ˆå…³æ³¨å±‚ï¼ˆä¸»é¢˜é¡µ/é¢†åŸŸé¡µ/é¡¹ç›®é“¾æ¥ï¼‰ã€‚
- `sync-card` æ¨¡å¼ä¸‹ï¼šæ–°å¡è·¯å¾„ã€æ ‡é¢˜ã€æ ‡ç­¾ã€æ¥æºä¸Šä¸‹æ–‡ã€‚
- `sync-project` æ¨¡å¼ä¸‹ï¼šé¡¹ç›®è·¯å¾„ã€é¡¹ç›®æ ‡é¢˜ã€é¡¹ç›®ç¼–å·ã€é¢†åŸŸä¿¡æ¯ã€‚

### Reads

- çŸ¥è¯†åº“ç›®å½•ä¸å…³é”®é¡µé¢ï¼ˆä¸»é¢˜é¡µã€é¢†åŸŸé¡µã€æ°¸ä¹…ç¬”è®°ã€é¡¹ç›®æ€»è§ˆï¼‰ã€‚
- `Meta/.ai-memory/STATUS.md`
- `references/index-principles.md`
- `references/path-conventions.md`
- `references/index-scan-rules.md`
- `references/connection-audit.md`
- `references/page-creation-rules.md`
- `references/card-sync-apply.md`
- `references/project-sync-apply.md`
- `references/safe-sync-write-protocol.md`
- `references/status-reporting.md`
- `references/quality-checklist.md`
- `assets/ç´¢å¼•å·¡æ£€æŠ¥å‘Šæ¨¡æ¿.md`

### Writes

- ç´¢å¼•å·¡æ£€æŠ¥å‘Šï¼ˆä¾‹å¦‚ `Meta/ç´¢å¼•/ç´¢å¼•å·¡æ£€-{{æ—¥æœŸ}}.md`ï¼‰ã€‚
- å¯é€‰ï¼š`Meta/ç´¢å¼•/kb-manifest.md` æ›´æ–°ã€‚
- `sync-card` æ¨¡å¼ä¸‹ç›´æ¥æ›´æ–°ç›®æ ‡ä¸»é¢˜é¡µï¼ˆğŸ“ï¼‰ä¸é¢†åŸŸé¡µï¼ˆğŸŒ±ï¼‰é“¾æ¥ã€‚
- `sync-project` æ¨¡å¼ä¸‹ç›´æ¥æ›´æ–°ç›®æ ‡é¢†åŸŸé¡µï¼ˆğŸŒ±ï¼‰çš„é¡¹ç›®å…¥å£é“¾æ¥ã€‚
- `STATUS.md` çš„â€œå›é¡¾â€åˆ†åŒºï¼ˆè®°å½•æœ¬æ¬¡ç»´æŠ¤çŠ¶æ€ï¼‰ã€‚

### Calls

- åè®®å…¥å£ï¼š`Read ../ah-memory/SKILL.md`
- è‹¥å‘ç°å¤§é‡å¾…è½¬åŒ–æ´è§ï¼šå»ºè®® `Read ../ah-card/SKILL.md`
- è‹¥å‘ç°é¡¹ç›®æ²‰æ·€æ–­é“¾ï¼šå»ºè®® `Read ../ah-project/SKILL.md` æˆ– `Read ../ah-archive/SKILL.md`

### Return

- å·¡æ£€æˆ–åŒæ­¥ç»“æœæ‘˜è¦ï¼ˆå­¤ç«‹ç¬”è®°/ç¼ºå¤±é“¾æ¥/åŒæ­¥å‘½ä¸­é¡µï¼‰ã€‚
- ä¼˜å…ˆçº§å»ºè®®ï¼ˆå…ˆä¿®ä»€ä¹ˆã€åä¿®ä»€ä¹ˆï¼‰ã€‚
- ä¸‹ä¸€æ­¥å…¥å£ï¼ˆæœ€å¤š 3 æ¡ï¼‰ã€‚

### Failure Handling

- é¦–æ¬¡è¿è¡Œæ— ç´¢å¼•ï¼šè‡ªåŠ¨èµ°åˆå§‹åŒ–å¹¶ç”ŸæˆåŸºç¡€æŠ¥å‘Šã€‚
- æ‰«æä¸­æ–­ï¼šè¾“å‡ºå·²å®ŒæˆèŒƒå›´å¹¶å†™ `è¿›è¡Œä¸­(N/M)`ã€‚
- è·¯å¾„ä¸å¯è¯»ï¼šå†™ `é˜»å¡:<åŸå› >` å¹¶ç»™æœ€å°è¡¥é½åŠ¨ä½œã€‚
- ç»“æœè¿‡å¤šï¼šæŒ‰ä¼˜å…ˆçº§åˆ†æ‰¹è¾“å‡ºï¼Œé¿å…ä¸€æ¬¡æ€§æ·¹æ²¡ã€‚
- `sync-card` æœªå‘½ä¸­é¡µé¢ï¼šå†™å¾…åŒæ­¥æ¸…å•å¹¶è¿”å›æ–°å»ºé¡µå»ºè®®ã€‚
- `sync-project` æœªå‘½ä¸­é¢†åŸŸé¡µï¼šå†™å¾…åŒæ­¥æ¸…å•å¹¶è¿”å›é¢†åŸŸé¡µè¡¥å»ºå»ºè®®ã€‚

## Workflow

1. **Scope**ï¼šç¡®å®šæ¨¡å¼ä¸æ‰«æèŒƒå›´ã€‚
2. **Branch**ï¼š
   - `sync-card`ï¼šæŒ‰ `card-sync-apply.md` + `safe-sync-write-protocol.md` æ›´æ–°ä¸»é¢˜é¡µ/é¢†åŸŸé¡µã€‚
   - `sync-project`ï¼šæŒ‰ `project-sync-apply.md` + `safe-sync-write-protocol.md` æ›´æ–°é¢†åŸŸé¡µé¡¹ç›®å…¥å£ã€‚
   - å…¶ä»–æ¨¡å¼ï¼šæŒ‰ `index-scan-rules.md` æŠ½å–é¡µé¢ä¸é“¾æ¥å…³ç³»ã€‚
3. **Audit/Suggest**ï¼š
   - `sync-card/sync-project`ï¼šè¿”å›å‘½ä¸­/æœªå‘½ä¸­ä¸å¾…åŒæ­¥å»ºè®®ã€‚
   - å…¶ä»–æ¨¡å¼ï¼šæŒ‰ `connection-audit.md` + `page-creation-rules.md` è¯†åˆ«ç¼ºå£å¹¶ç»™å»ºè®®ã€‚
4. **Report**ï¼šæŒ‰æ¨¡æ¿å†™å·¡æ£€æˆ–åŒæ­¥ç»“æœã€‚
5. **State Update**ï¼šæŒ‰ `status-reporting.md` å›å†™çŠ¶æ€ã€‚
6. **Return**ï¼šè¿”å›æ‘˜è¦ä¸ä¸‹ä¸€æ­¥å…¥å£ã€‚

## Quality Bar

- å·¡æ£€å¿…é¡»åŒºåˆ†â€œä¸»é¢˜é¡µé—®é¢˜â€å’Œâ€œé¢†åŸŸé¡µé—®é¢˜â€ã€‚
- å»ºè®®å¿…é¡»å¯æ‰§è¡Œï¼ˆåŒ…å«ç›®æ ‡é¡µé¢ä¸å»ºè®®åŠ¨ä½œï¼‰ã€‚
- ä¸è¿½æ±‚ä¸€æ¬¡æ€§å…¨ä¿®ï¼Œä¼˜å…ˆä¿®é«˜å½±å“æ–­é“¾ã€‚
- æ¯æ¬¡è¾“å‡ºéƒ½è¦ç»™å‡ºä¸‹ä¸€è½®ç»´æŠ¤è§¦å‘æ¡ä»¶ã€‚
- `sync-card/sync-project` å¿…é¡»å…·å¤‡å¹‚ç­‰æ€§ï¼ˆé‡å¤æ‰§è¡Œä¸é‡å¤æ’å…¥åŒä¸€é“¾æ¥ï¼‰ã€‚
- `sync-card/sync-project` å¿…é¡»ä½¿ç”¨åˆ†èŠ‚é”šç‚¹å†™å…¥ï¼Œä¸å¾—é‡å¤åˆ›å»ºåŒåæ ‡é¢˜ã€‚
- åŒä¸€è¾“å…¥äºŒæ¬¡æ‰§è¡Œæ—¶åº”æ— æ–‡ä»¶å˜æ›´ï¼ˆä»…è¿”å› `skip` ç»“æœï¼‰ã€‚
