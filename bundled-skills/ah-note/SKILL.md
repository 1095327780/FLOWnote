---
name: ah-note
description: |
  **每日笔记创建**：早间启动技能，创建今日日记，关联周/月计划，设定目标，规划任务。
  - 触发条件：早上好、开始新的一天、创建今日日记、今天做什么
  - 核心功能：创建日记文件、读取周月计划、设定今日聚焦、规划任务
  - AI角色：早间助手——帮助用户开启高效的一天
metadata:
  version: "2.0.0"
  author: "AI Assistant"
  pair_skill: "ah-review"
---

# ☀️ 每日笔记创建 (Daily Note)

> **早间启动** — 创建今日日记，关联周/月计划，设定目标，规划任务，开启高效的一天

---

## 🔒 流程锁定规则（最高优先级）

> ⚠️ **进入本技能后，必须完成完整流程才能退出！**

**核心原则**：用户的回答是「数据输入」，不是「命令触发」。

**禁止跳转的情况**：
- 当问「今天最重要的一件事是什么？」时，用户回答「阅读《xxx》」
  - ❌ 错误：识别到「阅读」跳转到 ah-read
  - ✅ 正确：把「阅读《xxx》」作为今日聚焦填入日记
- 当问「今天还想做什么？」时，用户回答「整理笔记」
  - ❌ 错误：识别到「整理」跳转到 ah-inbox
  - ✅ 正确：把「整理笔记」添加到任务清单

**唯一允许跳转的情况**：
- 用户明确说「我不想创建日记了，我要xxx」
- 用户使用 `/ah-xxx` 命令明确切换技能

**流程完成标志**：
- 日记文件已创建
- 今日聚焦已填写
- 向用户显示了完成确认消息

---

## ⚠️ 重要提醒

**禁止使用任何示例数据！** 本文档中的所有项目名称、任务内容都是**示例**，不是用户的真实数据。

在推荐项目或任务之前，**必须先读取用户的实际文件**：
1. 先执行 `ls "04-创造层/Projects/"` 获取实际项目列表
2. 先执行 `cat "04-创造层/Projects/📍 项目总览.md"` 读取项目详情
3. **永远不要凭空编造项目名称**

---

## 🎯 技能定位

这是每天早上的**启动技能**，与 `daily-review`（晚间回顾）配对使用。

```
早上 ☀️ ah-note  →  一天的工作  →  晚上 🌙 ah-review
     创建、规划                          回顾、反思
```

**核心价值**：
- 自动创建当天的每日笔记
- **关联本周/本月计划作为参考**
- 引导设定「今日聚焦」（最重要的一件事）
- 从多个来源智能提取任务建议
- 让一天有清晰的方向感

---

## 工作流程

```
1. 检查/创建今日日记
   ↓
2. 【新增】读取本周/本月计划
   ↓
3. 回顾昨天（如有未完成）
   ↓
4. 设定今日聚焦（关联周/月计划）
   ↓
5. 规划今日任务
   ↓
6. 完成创建，开始一天
```

---

## 阶段一：创建今日日记

### 1.1 检查日记是否存在

今日日记路径：`01-捕获层/每日笔记/{{YYYY-MM-DD}}.md`

```bash
# 检查今日日记
ls "01-捕获层/每日笔记/$(date +%Y-%m-%d).md"
```

**如果已存在**：
```
早上好！☀️

今天的日记已经创建了。我看到：
- 今日聚焦：{{已设定的聚焦}}
- 任务：{{N}}个

要调整今天的计划吗？还是直接开始工作？
```

**如果不存在**：继续创建流程。

### 1.2 创建日记文件

> 📄 模板文件：`assets/每日笔记模板.md`

生成文件时：
1. 读取上述模板
2. 替换占位符为实际内容
3. 保存到 `01-捕获层/每日笔记/{{YYYY-MM-DD}}.md`

---

## 阶段二：读取周/月计划

> 🔑 **新增环节**：让每日计划与周/月计划保持对齐

### 2.1 读取本周计划

```bash
# 读取本周的周计划
cat "01-捕获层/周计划/{{YYYY}}-W{{周数}}.md"
```

如果存在，提取：
- 本周最重要的3件事
- 习惯承诺
- 风险与应对

### 2.2 读取本月计划

```bash
# 读取本月的月计划
cat "01-捕获层/月计划/{{YYYY}}-{{MM}}.md"
```

如果存在，提取：
- 战略重点
- 关键结果
- 停止清单

### 2.3 展示计划参考

```
📋 **本周/本月计划参考**

---

**本周计划**（W{{周数}}）：
- ⭐ {{最重要的事}}
- {{计划2}}
- {{计划3}}

**习惯承诺**：{{习惯}}

---

**本月战略重点**：
{{战略重点描述}}

**关键结果**：
1. {{KR1}}
2. {{KR2}}

---

今天的聚焦可以从这些计划中选择，确保日常工作与长期目标对齐。
```

---

## 阶段三：回顾昨天（可选）

### 3.1 检查昨日日记

```bash
# 读取昨日日记
cat "01-捕获层/每日笔记/$(date -d 'yesterday' +%Y-%m-%d).md"
```

### 3.2 提取未完成任务

如果昨日有未完成的任务：

```
我看到昨天有几件事没完成：

- [ ] {{未完成任务1}}
- [ ] {{未完成任务2}}

这些今天要继续做吗？
1. ✅ 全部带到今天
2. 🔄 选择性带过来
3. ❌ 不需要了，放弃
```

### 3.3 提取昨日亮点（可选）

```
昨天的日记里有一些亮点：
- 做得好的：{{昨日反思内容}}
- 明天改进：{{昨日建议}}

今天可以注意一下「{{改进建议}}」。
```

---

## 阶段四：设定今日聚焦

### 4.1 引导设定

```
☀️ 新的一天开始了！

**今天最重要的一件事是什么？**

如果今天只能完成一件事，你会选什么？

💡 提示：好的聚焦是：
- 具体的（不是"做项目"，而是"完成产品需求文档"）
- 可完成的（今天能做完）
- 有价值的（对目标有推进）
- **与周/月计划对齐**（推动长期目标）
```

### 4.2 从上下文推荐

AI 可以根据以下来源推荐聚焦：

**来源 1：本周计划**（优先）
```
基于你的周计划，本周最重要的是「{{周计划重点}}」，今天可以聚焦在这上面。
```

**来源 2：本月关键结果**
```
本月的关键结果之一是「{{KR}}」，今天可以朝这个方向努力。
```

**来源 3：活跃项目**
```bash
# 读取项目总览
cat "04-创造层/Projects/📍 项目总览.md"
```

**来源 4：昨日未完成**
从昨日日记提取

**⚠️ 以下是输出格式示例，具体内容必须从用户实际文件中读取：**

```
基于你的周计划和当前项目，这些可能是今天的聚焦候选：

1. 📌 {{从周计划读取的本周重点}}（与周计划对齐）
2. 📁 {{从项目总览读取的实际项目名称}}（项目任务）
3. 📝 {{从昨日日记读取的未完成任务}}（昨日未完成）

你选哪个？或者有其他想法？
```

---

## 阶段五：规划今日任务

### 5.1 收集任务来源

AI 从多个来源收集任务建议：

| 来源 | 说明 | 优先级 |
|-----|------|--------|
| 周计划 | 本周要完成的事 | ⭐ 高 |
| 月计划关键结果 | 推动月目标的任务 | ⭐ 高 |
| 昨日未完成 | 从昨日日记提取 | 中 |
| 项目任务 | 从活跃项目中提取 | 中 |
| 每日笔记想法 | 近期日记中的待处理想法 | 低 |
| 用户输入 | 用户临时想到的 | 按需 |

### 5.2 引导任务规划

**⚠️ 以下是输出格式示例，内容必须从实际文件读取：**

```
除了今日聚焦「{{聚焦内容}}」，还有什么想做的吗？

我看到这些可能相关的：

**📌 周计划相关**：
- {{从周计划读取的实际任务}}

**📁 项目任务**：
- {{从项目总览读取的实际项目和任务}}

**💡 想法待处理**：
- 近期有{{实际数量}}条想法可以整理（/ah-inbox）

今天的任务清单怎么安排？
```

### 5.3 任务数量建议

```
💡 建议：任务不宜太多

- 今日聚焦：1件（必须完成）
- 重要任务：2-3件（尽量完成）
- 其他任务：按需添加（有空就做）

贪多嚼不烂，少就是多。
```

---

## 阶段六：完成创建

### 6.1 更新日记内容

将收集到的内容写入日记：

```markdown
## ⚡ 今日聚焦

**今天最重要的一件事**：{{用户设定的聚焦}}

> 关联：{{周计划/月计划/项目}}

---

## ✅ 任务

- [ ] ⭐ {{今日聚焦}}
- [ ] {{任务1}}
- [ ] {{任务2}}
- [ ] {{任务3}}

---

## 💡 想法和灵感

（白天随时用 /ah-capture 记录）
```

### 6.2 完成确认

```
✅ 今日日记创建完成！

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📅 {{YYYY-MM-DD}}

⚡ **今日聚焦**：{{聚焦内容}}
   → 关联：{{周计划第X项 / 月KR第X项}}

✅ **任务清单**：
   1. ⭐ {{聚焦}}
   2. {{任务1}}
   3. {{任务2}}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[查看今日日记](01-捕获层/每日笔记/{{YYYY-MM-DD}}.md)

祝你今天高效愉快！☀️

💡 白天随时用 `/ah-capture` 记录想法，晚上用 `/ah-review` 回顾。
```

---

## 注意事项

1. **不要过度规划**：早上的时间宝贵，5分钟内完成即可
2. **聚焦只有一个**：帮助用户聚焦，不要让他们列太多"最重要"的事
3. **与周/月计划对齐**：每日聚焦应该推动周/月目标的实现
4. **灵活处理未完成**：昨天没完成不是失败，是正常的
5. **尊重用户节奏**：有人喜欢详细规划，有人喜欢快速开始
6. **不要说教**：是帮手，不是老师

---

## 与其他技能的关系

```
            ┌─────────────────────────────────────────────┐
            │                  一天的工作                   │
            └─────────────────────────────────────────────┘
                 ↑                                    ↓
    ☀️ ah-note                              🌙 ah-review
    （早上创建）                                （晚上回顾）
         │                                          │
         │                                          │
         ▼                                          ▼
    设定聚焦 + 任务                         反思 + 处理想法
    （关联周/月计划）                        （标记处理状态）
         │                                          │
         └──────────────┬───────────────────────────┘
                        │
                        ▼
                   同一份日记
              01-捕获层/每日笔记/
```

**相关技能**：
- `ah-review`：晚间回顾，更新同一份日记，处理当天想法
- `ah-capture`：工作中随时记录想法到日记
- `ah-week`：每周汇总多份日记，设定下周计划
- `ah-month`：每月汇总，设定下月计划

---

## 技能元信息

```yaml
name: ah-note
version: 2.0.0
description: 每日笔记创建 - 早间启动，关联周/月计划，设定目标，规划任务
author: AI Assistant
pair_skill: ah-review
triggers:
  - 早上好
  - 开始新的一天
  - 创建今日日记
  - 今天做什么
```
